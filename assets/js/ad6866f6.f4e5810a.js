"use strict";(self.webpackChunkhtml=self.webpackChunkhtml||[]).push([[189],{3905:(e,t,r)=>{r.d(t,{Zo:()=>p,kt:()=>f});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var l=n.createContext({}),o=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},p=function(e){var t=o(e.components);return n.createElement(l.Provider,{value:t},e.children)},y="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},s=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,c=e.originalType,l=e.parentName,p=u(e,["components","mdxType","originalType","parentName"]),y=o(r),s=a,f=y["".concat(l,".").concat(s)]||y[s]||h[s]||c;return r?n.createElement(f,i(i({ref:t},p),{},{components:r})):n.createElement(f,i({ref:t},p))}));function f(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var c=r.length,i=new Array(c);i[0]=s;var u={};for(var l in t)hasOwnProperty.call(t,l)&&(u[l]=t[l]);u.originalType=e,u[y]="string"==typeof e?e:a,i[1]=u;for(var o=2;o<c;o++)i[o]=r[o];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}s.displayName="MDXCreateElement"},3930:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>c,metadata:()=>u,toc:()=>o});var n=r(7462),a=(r(7294),r(3905));const c={sidebar_position:3},i="prefetchQuery() / fetchQuery()",u={unversionedId:"useQueryClient/prefetchQuery-fetchQuery",id:"useQueryClient/prefetchQuery-fetchQuery",title:"prefetchQuery() / fetchQuery()",description:"- C\u1ea3 2 ph\u01b0\u01a1ng th\u1ee9c prefetchQuery() v\xe0 fetchQuery() gi\xfap ta c\xf3 th\u1ec3 th\u1ef1c hi\u1ec7n tr\u01b0\u1edbc vi\u1ec7c n\u1ea1p query c\xf9ng v\u1edbi d\u1eef li\u1ec7u v\xe0o cache (cache request network). L\u01b0u \xfd r\u1eb1ng query n\xe0y ph\u1ea3i ch\u01b0a c\xf3 trong cache.",source:"@site/docs/useQueryClient/prefetchQuery-fetchQuery.md",sourceDirName:"useQueryClient",slug:"/useQueryClient/prefetchQuery-fetchQuery",permalink:"/react-query/useQueryClient/prefetchQuery-fetchQuery",draft:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"invalidateQueries()",permalink:"/react-query/useQueryClient/invalidateQueries"},next:{title:"getQueryData()",permalink:"/react-query/useQueryClient/getQueryData"}},l={},o=[{value:"C\xfa ph\xe1p",id:"c\xfa-ph\xe1p",level:2},{value:"V\xed d\u1ee5",id:"v\xed-d\u1ee5",level:2}],p={toc:o},y="wrapper";function h(e){let{components:t,...r}=e;return(0,a.kt)(y,(0,n.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"prefetchquery--fetchquery"},"prefetchQuery() / fetchQuery()"),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("ul",{parentName:"admonition"},(0,a.kt)("li",{parentName:"ul"},"C\u1ea3 2 ph\u01b0\u01a1ng th\u1ee9c ",(0,a.kt)("inlineCode",{parentName:"li"},"prefetchQuery()")," v\xe0 ",(0,a.kt)("inlineCode",{parentName:"li"},"fetchQuery()")," gi\xfap ta c\xf3 th\u1ec3 th\u1ef1c hi\u1ec7n tr\u01b0\u1edbc vi\u1ec7c n\u1ea1p query c\xf9ng v\u1edbi d\u1eef li\u1ec7u v\xe0o cache (",(0,a.kt)("a",{parentName:"li",href:"../#ph%C3%A2n-bi%E1%BB%87t-hai-lo%E1%BA%A1i-request-trong-react-query"},"cache request network"),"). L\u01b0u \xfd r\u1eb1ng query n\xe0y ph\u1ea3i ch\u01b0a c\xf3 trong cache."),(0,a.kt)("li",{parentName:"ul"},"Vi\u1ec7c n\u1ea1p tr\u01b0\u1edbc query v\xe0o trong cache s\u1ebd gi\xfap \xedch trong m\u1ed9t s\u1ed1 tr\u01b0\u1eddng h\u1ee3p ta bi\u1ebft tr\u01b0\u1edbc sau g\xec c\u0169ng c\u1ea7n d\u1eef li\u1ec7u \u0111\xf3 n\xean n\u1ea1p tr\u01b0\u1edbc v\xe0o cache, l\xfac sau ch\u1ec9 c\u1ea7n l\u1ea5y ra, kh\u1ecfi ph\u1ea3i ch\u1edd \u0111\u1ee3i vi\u1ec7c n\u1ea1p query v\xe0o cache."),(0,a.kt)("li",{parentName:"ul"},"C\u1ea5u h\xecnh c\u1ee7a c\u1ea3 2 ph\u01b0\u01a1ng th\u1ee9c ",(0,a.kt)("inlineCode",{parentName:"li"},"prefetchQuery()")," v\xe0 ",(0,a.kt)("inlineCode",{parentName:"li"},"fetchQuery()")," c\u0169ng gi\u1ed1ng nh\u01b0 ",(0,a.kt)("inlineCode",{parentName:"li"},"useQuery()"),", ch\u1ec9 kh\xe1c l\xe0:",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"prefetchQuery()")," kh\xf4ng tr\u1ea3 v\u1ec1 d\u1eef li\u1ec7u hay l\u1ed7i, n\xf3 ch\u1ec9 \u0111\u01a1n gi\u1ea3n l\xe0 th\u1ef1c hi\u1ec7n vi\u1ec7c n\u1ea1p tr\u01b0\u1edbc query v\xe0o cache."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"fetchQuery()")," tr\u1ea3 v\u1ec1 d\u1eef li\u1ec7u, ho\u1eb7c l\u1ed7i khi get d\u1eef li\u1ec7u t\u1eeb server v\u1ec1."))))),(0,a.kt)("h2",{id:"c\xfa-ph\xe1p"},"C\xfa ph\xe1p"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"await queryClient.prefetchQuery({ queryKey, queryFn });\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"await queryClient.fetchQuery({ queryKey, queryFn });\n")),(0,a.kt)("h2",{id:"v\xed-d\u1ee5"},"V\xed d\u1ee5"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},'const queryClient = useQueryClient();\nawait queryClient.prefetchQuery({\n  queryKey: ["todos", page],\n  queryFn: () => httpGetByPage(page),\n  staleTime: 10 * 1000,\n});\n')),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"try {\n  const data = await queryClient.fetchQuery({ queryKey, queryFn });\n} catch (error) {\n  console.log(error);\n}\n")))}h.isMDXComponent=!0}}]);