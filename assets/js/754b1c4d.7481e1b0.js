"use strict";(self.webpackChunkhtml=self.webpackChunkhtml||[]).push([[808],{3905:(e,n,t)=>{t.d(n,{Zo:()=>p,kt:()=>m});var r=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function u(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var c=r.createContext({}),o=function(e){var n=r.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},p=function(e){var n=o(e.components);return r.createElement(c.Provider,{value:n},e.children)},s="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},y=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,i=e.originalType,c=e.parentName,p=u(e,["components","mdxType","originalType","parentName"]),s=o(t),y=a,m=s["".concat(c,".").concat(y)]||s[y]||d[y]||i;return t?r.createElement(m,l(l({ref:n},p),{},{components:t})):r.createElement(m,l({ref:n},p))}));function m(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var i=t.length,l=new Array(i);l[0]=y;var u={};for(var c in n)hasOwnProperty.call(n,c)&&(u[c]=n[c]);u.originalType=e,u[s]="string"==typeof e?e:a,l[1]=u;for(var o=2;o<i;o++)l[o]=t[o];return r.createElement.apply(null,l)}return r.createElement.apply(null,t)}y.displayName="MDXCreateElement"},1477:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>d,frontMatter:()=>i,metadata:()=>u,toc:()=>o});var r=t(7462),a=(t(7294),t(3905));const i={sidebar_position:5},l="cancelQueries()",u={unversionedId:"useQueryClient/cancelQueries",id:"useQueryClient/cancelQueries",title:"cancelQueries()",description:"- Ph\u01b0\u01a1ng th\u1ee9c cancelQueries() d\xf9ng \u0111\u1ec3 h\u1ee7y b\u1ecf khi \u0111ang th\u1ef1c hi\u1ec7n d\u1edf query. \u0110\u01b0\u1ee3c d\xf9ng khi component unmounted (t\u1ee9c khi ng\u01b0\u1eddi d\xf9ng chuy\u1ec3n trang kh\xe1c trong khi query \u0111ang th\u1ef1c hi\u1ec7n d\u1edf th\xec h\u1ee7y b\u1ecf kh\xf4ng th\u1ef1c hi\u1ec7n query \u0111\xf3 n\u1eefa, gi\xfap t\u1ed1i \u01b0u hi\u1ec7u n\u0103ng).",source:"@site/docs/useQueryClient/cancelQueries.md",sourceDirName:"useQueryClient",slug:"/useQueryClient/cancelQueries",permalink:"/react-query/useQueryClient/cancelQueries",draft:!1,tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"getQueryData()",permalink:"/react-query/useQueryClient/getQueryData"},next:{title:"removeQueries()",permalink:"/react-query/useQueryClient/removeQueries"}},c={},o=[{value:"C\u1ea5u h\xecnh",id:"c\u1ea5u-h\xecnh",level:2}],p={toc:o},s="wrapper";function d(e){let{components:n,...t}=e;return(0,a.kt)(s,(0,r.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"cancelqueries"},"cancelQueries()"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Ph\u01b0\u01a1ng th\u1ee9c ",(0,a.kt)("inlineCode",{parentName:"li"},"cancelQueries()")," d\xf9ng \u0111\u1ec3 h\u1ee7y b\u1ecf khi \u0111ang th\u1ef1c hi\u1ec7n d\u1edf query. \u0110\u01b0\u1ee3c d\xf9ng khi component unmounted (t\u1ee9c khi ng\u01b0\u1eddi d\xf9ng chuy\u1ec3n trang kh\xe1c trong khi query \u0111ang th\u1ef1c hi\u1ec7n d\u1edf th\xec h\u1ee7y b\u1ecf kh\xf4ng th\u1ef1c hi\u1ec7n query \u0111\xf3 n\u1eefa, gi\xfap t\u1ed1i \u01b0u hi\u1ec7u n\u0103ng)."),(0,a.kt)("li",{parentName:"ul"},"Ph\u01b0\u01a1ng th\u1ee9c n\xe0y \u0111\u01b0\u1ee3c d\xf9ng ch\u1ee7 y\u1ebfu \u1edf ",(0,a.kt)("strong",{parentName:"li"},"cleanup function")," trong ",(0,a.kt)("inlineCode",{parentName:"li"},"useEffect()"))),(0,a.kt)("h2",{id:"c\u1ea5u-h\xecnh"},"C\u1ea5u h\xecnh"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Config"),(0,a.kt)("th",{parentName:"tr",align:null},"Type"),(0,a.kt)("th",{parentName:"tr",align:null},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"queryKey")),(0,a.kt)("td",{parentName:"tr",align:null},"Array"),(0,a.kt)("td",{parentName:"tr",align:null},"Ch\u1ec9 \u0111\u1ecbnh nh\u1eefng queries c\xf3 ",(0,a.kt)("inlineCode",{parentName:"td"},"queryKey")," t\u01b0\u01a1ng \u0111\u1ed1i kh\u1edbp v\u1edbi ",(0,a.kt)("inlineCode",{parentName:"td"},"queryKey")," ta ch\u1ec9 \u0111\u1ecbnh m\u1edbi b\u1ecb cancel")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"exact")),(0,a.kt)("td",{parentName:"tr",align:null},"Boolean"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"true"),": ch\u1ec9 cancel nh\u1eefng queries c\xf3 ",(0,a.kt)("inlineCode",{parentName:"td"},"queryKey")," kh\u1edbp ch\xednh x\xe1c tuy\u1ec7t \u0111\u1ed1i v\u1edbi ",(0,a.kt)("inlineCode",{parentName:"td"},"queryKey")," ta ch\u1ec9 \u0111\u1ecbnh")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"predicate")),(0,a.kt)("td",{parentName:"tr",align:null},"Function"),(0,a.kt)("td",{parentName:"tr",align:null},"L\xe0 m\u1ed9t h\xe0m ",(0,a.kt)("inlineCode",{parentName:"td"},"return Boolean "),"ch\u1ec9 \u0111\u1ecbnh nh\u1eefng queries n\xe0o th\u1ecfa m\xe3n \u0111i\u1ec1u ki\u1ec7n m\u1edbi \u0111\u01b0\u1ee3c cancel. D\xf9ng h\xe0m n\xe0y r\u1ed3i th\xec th\xf4i kh\xf4ng d\xf9ng ",(0,a.kt)("inlineCode",{parentName:"td"},"queryKey")," n\u1eefa.")))),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"V\xed d\u1ee5:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},'import { useQuery, useQueryClient } from "@tanstack/react-query";\nimport "./styles.css";\nimport axios from "axios";\nimport { useEffect } from "react";\n\ninterface Task {\n  name: string;\n}\n\nconst api = axios.create({\n  baseURL: "https://6404cc9280d9c5c7bad0e2f2.mockapi.io/api/v1/",\n});\n\nconst getAllTasks = async (querySignal?: AbortSignal) => {\n  const { data } = await api.get<Task[]>("tasks", { signal: querySignal });\n  return data;\n};\n\nexport default function App() {\n  const queryClient = useQueryClient();\n  const { data: taskList } = useQuery({\n    queryKey: ["todos"],\n    queryFn: ({ signal }) => getAllTasks(signal),\n  });\n\n  useEffect(() => {\n    return () => {\n      queryClient.cancelQueries({ queryKey: ["todos"] });\n    };\n  }, [queryClient]);\n\n  return (\n    <div>\n      {taskList?.map((item, index) => (\n        <p key={index}>{item.name}</p>\n      ))}\n    </div>\n  );\n}\n')))}d.isMDXComponent=!0}}]);